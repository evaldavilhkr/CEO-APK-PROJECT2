<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ইভেন্টরি ম্যানেজমেন্ট অ্যাপ</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        table {
            border-collapse: collapse;
            width: 100%;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f0f0f0;
        }
    </style>
</head>
<body>
    <h1>ইভেন্টরি ম্যানেজমেন্ট অ্যাপ</h1>
    <form id="product-form">
        <label for="product-name">পণ্যের নাম:</label>
        <input type="text" id="product-name" name="product-name"><br><br>
        <label for="supplier-name">সাপ্লাইয়ার নাম:</label>
        <input type="text" id="supplier-name" name="supplier-name"><br><br>
        <label for="product-quantity">পরিমাণ:</label>
        <input type="number" id="product-quantity" name="product-quantity"><br><br>
        <label for="product-price">মূল্য:</label>
        <input type="number" id="product-price" name="product-price"><br><br>
        <label for="payment">পেমেন্ট:</label>
        <input type="number" id="payment" name="payment"><br><br>
        <button id="add-product-btn">পণ্য যোগ করুন</button>
    </form>
    <table id="product-table">
        <thead>
            <tr>
                <th>পণ্যের নাম</th>
                <th>সাপ্লাইয়ার নাম</th>
                <th>পরিমাণ</th>
                <th>মূল্য</th>
                <th>মোট খরচ</th>
                <th>পেমেন্ট</th>
                <th>বাকি</th>
                <th>লিখিত</th>
                <th>পেমেন্ট করুন</th>
            </tr>
        </thead>
        <tbody id="product-table-body">
        </tbody>
    </table>

    <script>
        let products = JSON.parse(localStorage.getItem('products')) || [];

        document.getElementById('add-product-btn').addEventListener('click', (e) => {
            e.preventDefault();
            let productName = document.getElementById('product-name').value;
            let supplierName = document.getElementById('supplier-name').value;
            let productQuantity = parseInt(document.getElementById('product-quantity').value);
            let productPrice = parseFloat(document.getElementById('product-price').value);
            let payment = parseFloat(document.getElementById('payment').value);

            let totalCost = productQuantity * productPrice;
            let due = totalCost - payment;

            let product = {
                productName,
                supplierName,
                productQuantity,
                productPrice,
                totalCost,
                payment,
                due,
                transactions: [
                    {
                        type: 'ক্রয়',
                        amount: totalCost,
                        payment: payment,
                        date: new Date().toLocaleDateString()
                    }
                ]
            };

            products.push(product);
            localStorage.setItem('products', JSON.stringify(products));
            displayProducts();
            document.getElementById('product-form').reset();
        });

        function displayProducts() {
            let tableBody = document.getElementById('product-table-body');
            tableBody.innerHTML = '';
            products.forEach((product, index) => {
                let transactions = '';
                product.transactions.forEach((transaction) => {
                    transactions += `${transaction.type}: ${transaction.amount} টাকা, পেমেন্ট: ${transaction.payment} টাকা, তারিখ: ${transaction.date}<br>`;
                });
                let row = `<tr>
                    <td>${product.productName}</td>
                    <td>${product.supplierName}</td>
                    <td>${product.productQuantity}</td>
                    <td>${product.productPrice}</td>
                    <td>${product.totalCost}</td>
                    <td>${product.payment}</td>
                    <td>${product.due}</td>
                    <td>${transactions}</td>
                    <td><input type="number" id="payment-${index}" placeholder="পেমেন্ট করুন">
                    <button onclick="makePayment(${index})">পেমেন্ট</button></td>
                </tr>`;
                tableBody.innerHTML += row;
            });
        }

        function makePayment(index) {
            let payment = parseFloat(document.getElementById(`payment-${index}`).value);
            if (payment > 0) {
                products[index].payment += payment;
                products[index].due -= payment;
                products[index].transactions.push({
                    type: 'পেমেন্ট',
                    amount: payment,
                    payment: payment,
                    date: new Date().toLocaleDateString()
                });
                localStorage.setItem('products', JSON.stringify(products));
                displayProducts();
            }
        }

        displayProducts();
    </script>
</body>
</html>
